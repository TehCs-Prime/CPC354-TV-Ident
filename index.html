<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title> CPC354 Assignment 1 - TV Ident </title>

    <script id="vertex-shader" type="x-shader/x-vertex">
      uniform mat4 projectionMatrix;
      uniform mat4 modelViewMatrix;
      attribute vec3 vPosition;

      varying float vDepth;

      void main() {
        gl_Position = projectionMatrix * modelViewMatrix * vec4(vPosition, 1.0);
        vDepth = vPosition.z;
      }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
      precision mediump float;
      varying float vDepth;

      uniform vec4 uColor;

      void main() {
        // Simple fake shading: 
        // Front face (positive Z) is bright, back/sides are darker
        float brightness = 0.5 + (vDepth * 0.02); 
        if (brightness > 1.0) brightness = 1.0;
        if (brightness < 0.2) brightness = 0.2;
        
        gl_FragColor = vec4(uColor.rgb * brightness, uColor.a);
      }
    </script>

    <script type="text/javascript" src="Common/initShaders.js"></script>
    <script type="text/javascript" src="Common/MV.js"></script>
    <script type="text/javascript" src="Common/webgl-utils.js"></script>
    <script src="https://unpkg.com/opentype.js@latest/dist/opentype.min.js"></script>
    <script src="https://unpkg.com/earcut@2.2.4/dist/earcut.min.js"></script>
    <script type="text/javascript" src="globals.js"></script>
    <script type="text/javascript" src="3Dgeometry.js"></script>
    <script type="text/javascript" src="2Dtext.js"></script>
    <script type="text/javascript" src="setup.js"></script>
    <script type="text/javascript" src="events.js"></script>
    <script type="text/javascript" src="animations.js"></script>
    <script type="text/javascript" src="main.js"></script>

    <link rel="stylesheet" type="text/css" href="style.css">

  </head>

  <body>
    <div class="container">
      <div class="canvas-area">

        <canvas id="gl-canvas">
          Error: Browser doesn't support HTML5 canvas element
        </canvas>
        <div class="animation-overlay">
            <button id="btnStartStop" class="anim-btn" title="Start Animation">Start</button>
            <button id="btnReset" class="anim-btn mode-reset" title="'Reset">&#x21bb;</button>
            <button id="btnDayNight" class="anim-btn" title="Day/Night Mode">ðŸŒ™</button>
        </div>

      </div>

      <div class="control-panel">

        <div class="panel-header">
          <h2>Control Panel</h2>
          <div class="panel-subtitle">TV Ident Configuration</div>
        </div>

        <div class="panel-body">
          
          <div class="control-group">
            <label class="group-label">Display Text</label>
            <div class="input-wrapper text-wrapper">
              <input type="text" id="wordInput" maxlength="4" placeholder="USM" autocomplete="off">
              <span class="input-focus-border"></span>
            </div>
          </div>

          <div class="control-group">
            <label class="group-label">Appearance</label>
            
            <div class="control-row">
              <label for="colorInput">Theme Color</label>
              <div class="color-wrapper">
                <input type="color" id="colorInput" value="#9a3be8">
              </div>
            </div>

            <div class="control-row">
              <div class="label-row">
                <label for="thicknessInput">Extrusion Depth</label>
                <span class="val-readout" id="val-thick">20</span>
              </div>
              <input type="range" class="custom-range" id="thicknessInput" min="1" max="30" value="20" oninput="document.getElementById('val-thick').innerText = this.value">
            </div>

            <div class="control-row">
              <div class="label-row">
                <label for="spacingInput">Letter Spacing</label>
                <span class="val-readout" id="val-space">5</span>
              </div>
              <input type="range" class="custom-range" id="spacingInput" min="0" max="30" value="5" oninput="document.getElementById('val-space').innerText = this.value">
            </div>
          </div>

          
          <div class="control-group">
            <label class="group-label">Animation</label>
            <div class="control-row">
              <div class="label-row">
                <label for="speedInput">Playback Speed</label>
                <span class="val-readout" id="val-speed">1.0x</span>
              </div>
              <input type="range" class="custom-range" id="speedInput" min="0.1" max="5.0" step="0.1" value="1.0" oninput="document.getElementById('val-speed').innerText = this.value + 'x'">
            </div>
          </div>

        </div>
      </div>

    </div>
  </body>
</html>